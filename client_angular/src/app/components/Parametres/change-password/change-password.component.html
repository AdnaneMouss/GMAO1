<div class="container mx-auto p-6">
  <h2 class="text-2xl font-semibold mb-4">Changer le mot de passe</h2>

  <!-- Verification Code Section -->
  <div *ngIf="!isCodeSent">
    <p class="mb-2">Entrez votre email pour recevoir un code de vérification</p>
    <button
      class="bg-blue-600 text-white px-4 py-2 rounded-md"
      (click)="sendVerificationCode()"
    >
      Envoyer le code
    </button>
  </div>

  <div *ngIf="isCodeSent">
    <label for="verificationCode" class="block mb-2">Code de vérification</label>
    <input
      type="text"
      id="verificationCode"
      [(ngModel)]="verificationCode"
      class="border p-2 rounded-md w-full"
      required
    />

    <!-- Password Change Form -->
    <div class="mt-4">
      <label for="oldPassword" class="block mb-2">Ancien mot de passe</label>
      <input
        type="password"
        id="oldPassword"
        [(ngModel)]="oldPassword"
        class="border p-2 rounded-md w-full"
        required
      />
    </div>
    <div class="mt-4">
      <label for="newPassword" class="block mb-2">Nouveau mot de passe</label>
      <input
        type="password"
        id="newPassword"
        [(ngModel)]="newPassword"
        class="border p-2 rounded-md w-full"
        required
      />
    </div>
    <div class="mt-4">
      <label for="confirmPassword" class="block mb-2">Confirmer le mot de passe</label>
      <input
        type="password"
        id="confirmPassword"
        [(ngModel)]="confirmPassword"
        class="border p-2 rounded-md w-full"
        required
      />
    </div>

    <button
      class="bg-green-600 text-white px-4 py-2 rounded-md mt-4"
      (click)="changePassword()"
    >
      Changer le mot de passe
    </button>
  </div>

  <!-- Error and Success Messages -->
  <p *ngIf="errorMessage" class="text-red-500 mt-2">{{ errorMessage }}</p>
  <p *ngIf="successMessage" class="text-green-500 mt-2">{{ successMessage }}</p>
</div>

